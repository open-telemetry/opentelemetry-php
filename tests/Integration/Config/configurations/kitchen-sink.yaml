# kitchen-sink.yaml demonstrates all configurable surface area, including explanatory comments.
#
# It DOES NOT represent expected real world configuration, as it makes strange configuration
# choices in an effort to exercise the full surface area.
#
# Configuration values are set to their defaults when default values are defined.

# The file format version.
file_format: "0.3"

# Configure if the SDK is disabled or not. This is not required to be provided to ensure the SDK isn't disabled, the default value when this is not provided is for the SDK to be enabled.
disabled: false

# Configure general attribute limits. See also tracer_provider.limits, logger_provider.limits.
attribute_limits:
  # Configure max attribute value size.
  attribute_value_length_limit: 4096
  # Configure max attribute count.
  attribute_count_limit: 128

# Configure logger provider.
logger_provider:
    # Configure log record processors.
    processors:
        # Configure a batch log record processor.
        - batch:
              # Configure delay interval (in milliseconds) between two consecutive exports.
              #
              # Environment variable: OTEL_BLRP_SCHEDULE_DELAY
              schedule_delay: 5000
              # Configure maximum allowed time (in milliseconds) to export data.
              #
              # Environment variable: OTEL_BLRP_EXPORT_TIMEOUT
              export_timeout: 30000
              # Configure maximum queue size.
              #
              # Environment variable: OTEL_BLRP_MAX_QUEUE_SIZE
              max_queue_size: 2048
              # Configure maximum batch size.
              #
              # Environment variable: OTEL_BLRP_MAX_EXPORT_BATCH_SIZE
              max_export_batch_size: 512
              # Configure exporter.
              #
              # Environment variable: OTEL_LOGS_EXPORTER
              exporter:
                  # Configure exporter to be OTLP.
                  otlp:
                      # Configure protocol.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_PROTOCOL, OTEL_EXPORTER_OTLP_LOGS_PROTOCOL
                      protocol: http/protobuf
                      # Configure endpoint.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_ENDPOINT, OTEL_EXPORTER_OTLP_LOGS_ENDPOINT
                      endpoint: http://localhost:4318
                      # Configure certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CERTIFICATE, OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE
                      certificate: /app/cert.pem
                      # Configure mTLS private client key.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_KEY, OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY
                      client_key: /app/cert.pem
                      # Configure mTLS client certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE, OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE
                      client_certificate: /app/cert.pem
                      # Configure headers. Entries have higher priority than entries from .headers_list.
                      headers:
                          - name: api-key
                            value: "1234"
                      # Configure headers. Entries have lower priority than entries from .headers.
                      # The value is a list of comma separated key-value pairs matching the format of OTEL_EXPORTER_OTLP_HEADERS. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/exporter.md#configuration-options for details.
                      headers_list: "api-key=1234"
                      # Configure compression.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_COMPRESSION, OTEL_EXPORTER_OTLP_LOGS_COMPRESSION
                      compression: gzip
                      # Configure max time (in milliseconds) to wait for each export.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_TIMEOUT, OTEL_EXPORTER_OTLP_LOGS_TIMEOUT
                      timeout: 10000
    # Configure log record limits. See also attribute_limits.
    limits:
        # Configure max log record attribute value size. Overrides attribute_limits.attribute_value_length_limit.
        #
        # Environment variable: OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT
        attribute_value_length_limit: 4096
        # Configure max log record attribute count. Overrides attribute_limits.attribute_count_limit.
        #
        # Environment variable: OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT
        attribute_count_limit: 128

# Configure meter provider.
meter_provider:
    # Configure metric readers.
    readers:
        # Configure a periodic metric reader.
        - periodic:
              # Configure delay interval (in milliseconds) between start of two consecutive exports.
              #
              # Environment variable: OTEL_METRIC_EXPORT_INTERVAL
              interval: 5000
              # Configure maximum allowed time (in milliseconds) to export data.
              #
              # Environment variable: OTEL_METRIC_EXPORT_TIMEOUT
              timeout: 30000
              # Configure exporter.
              #
              # Environment variable: OTEL_METRICS_EXPORTER
              exporter:
                  # Configure exporter to be OTLP.
                  otlp:
                      # Configure protocol.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_PROTOCOL, OTEL_EXPORTER_OTLP_METRICS_PROTOCOL
                      protocol: http/protobuf
                      # Configure endpoint.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_ENDPOINT, OTEL_EXPORTER_OTLP_METRICS_ENDPOINT
                      endpoint: http://localhost:4318
                      # Configure certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CERTIFICATE, OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE
                      certificate: /app/cert.pem
                      # Configure mTLS private client key.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_KEY, OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY
                      client_key: /app/cert.pem
                      # Configure mTLS client certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE, OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE
                      client_certificate: /app/cert.pem
                      # Configure headers. Entries have higher priority than entries from .headers_list.
                      headers:
                          - name: api-key
                            value: "1234"
                      # Configure headers. Entries have lower priority than entries from .headers.
                      # The value is a list of comma separated key-value pairs matching the format of OTEL_EXPORTER_OTLP_HEADERS. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/exporter.md#configuration-options for details.
                      headers_list: "api-key=1234"
                      # Configure compression.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_COMPRESSION, OTEL_EXPORTER_OTLP_METRICS_COMPRESSION
                      compression: gzip
                      # Configure max time (in milliseconds) to wait for each export.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_TIMEOUT, OTEL_EXPORTER_OTLP_METRICS_TIMEOUT
                      timeout: 10000
                      # Configure temporality preference.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE
                      temporality_preference: delta
        # Configure a periodic metric reader.
        - periodic:
              # Configure exporter.
              exporter:
                  # Configure exporter to be console.
                  console: {}
    # Configure views. Each view has a selector which determines the instrument(s) it applies to, and a configuration for the resulting stream(s).
    views:
        # Configure a view.
        - selector:
              # Configure instrument name selection criteria.
              instrument_name: my-instrument
              # Configure instrument type selection criteria.
              instrument_type: histogram
              # Configure the instrument unit selection criteria.
              unit: ms
              # Configure meter name selection criteria.
              meter_name: my-meter
              # Configure meter version selection criteria.
              meter_version: 1.0.0
              # Configure meter schema url selection criteria.
              meter_schema_url: https://opentelemetry.io/schemas/1.16.0
            # Configure stream.
          stream:
              # Configure metric name of the resulting stream(s).
              name: new_instrument_name
              # Configure metric description of the resulting stream(s).
              description: new_description
              # Configure aggregation of the resulting stream(s). Known values include: default, drop, explicit_bucket_histogram, base2_exponential_bucket_histogram, last_value, sum.
              aggregation: ~
              # Configure attribute keys retained in the resulting stream(s).
              attribute_keys:
                  - key1
                  - key2

# Configure text map context propagators.
propagator:
  # Configure the set of propagators to include in the composite text map propagator.
  composite: [ tracecontext, baggage, b3, b3multi, jaeger ]

# Configure tracer provider.
tracer_provider:
    # Configure span processors.
    processors:
        # Configure a batch span processor.
        - batch:
              # Configure delay interval (in milliseconds) between two consecutive exports.
              #
              # Environment variable: OTEL_BSP_SCHEDULE_DELAY
              schedule_delay: 5000
              # Configure maximum allowed time (in milliseconds) to export data.
              #
              # Environment variable: OTEL_BSP_EXPORT_TIMEOUT
              export_timeout: 30000
              # Configure maximum queue size.
              #
              # Environment variable: OTEL_BSP_MAX_QUEUE_SIZE
              max_queue_size: 2048
              # Configure maximum batch size.
              #
              # Environment variable: OTEL_BSP_MAX_EXPORT_BATCH_SIZE
              max_export_batch_size: 512
              # Configure exporter.
              #
              # Environment variable: OTEL_TRACES_EXPORTER
              exporter:
                  # Configure exporter to be OTLP.
                  otlp:
                      # Configure protocol.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_PROTOCOL, OTEL_EXPORTER_OTLP_TRACES_PROTOCOL
                      protocol: http/protobuf
                      # Configure endpoint.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_ENDPOINT, OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
                      endpoint: http://localhost:4318
                      # Configure certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CERTIFICATE, OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE
                      certificate: /app/cert.pem
                      # Configure mTLS private client key.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_KEY, OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY
                      client_key: /app/cert.pem
                      # Configure mTLS client certificate.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE, OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE
                      client_certificate: /app/cert.pem
                      # Configure headers. Entries have higher priority than entries from .headers_list.
                      headers:
                          - name: api-key
                            value: "1234"
                      # Configure headers. Entries have lower priority than entries from .headers.
                      # The value is a list of comma separated key-value pairs matching the format of OTEL_EXPORTER_OTLP_HEADERS. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/exporter.md#configuration-options for details.
                      headers_list: "api-key=1234"
                      # Configure compression.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_COMPRESSION, OTEL_EXPORTER_OTLP_TRACES_COMPRESSION
                      compression: gzip
                      # Configure max time (in milliseconds) to wait for each export.
                      #
                      # Environment variable: OTEL_EXPORTER_OTLP_TIMEOUT, OTEL_EXPORTER_OTLP_TRACES_TIMEOUT
                      timeout: 10000
        # Configure a batch span processor.
        - batch:
              # Configure exporter.
              #
              # Environment variable: OTEL_TRACES_EXPORTER
              exporter:
                  # Configure exporter to be zipkin.
                  zipkin:
                      # Configure endpoint.
                      #
                      # Environment variable: OTEL_EXPORTER_ZIPKIN_ENDPOINT
                      endpoint: http://localhost:9411/api/v2/spans
                      # Configure max time (in milliseconds) to wait for each export.
                      #
                      # Environment variable: OTEL_EXPORTER_ZIPKIN_TIMEOUT
                      timeout: 10000
        # Configure a simple span processor.
        - simple:
              # Configure exporter.
              exporter:
                  # Configure exporter to be console.
                  console: {}
    # Configure span limits. See also attribute_limits.
    limits:
        # Configure max span attribute value size. Overrides attribute_limits.attribute_value_length_limit.
        #
        # Environment variable: OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT
        attribute_value_length_limit: 4096
        # Configure max span attribute count. Overrides attribute_limits.attribute_count_limit.
        #
        # Environment variable: OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT
        attribute_count_limit: 128
        # Configure max span event count.
        #
        # Environment variable: OTEL_SPAN_EVENT_COUNT_LIMIT
        event_count_limit: 128
        # Configure max span link count.
        #
        # Environment variable: OTEL_SPAN_LINK_COUNT_LIMIT
        link_count_limit: 128
        # Configure max attributes per span event.
        #
        # Environment variable: OTEL_EVENT_ATTRIBUTE_COUNT_LIMIT
        event_attribute_count_limit: 128
        # Configure max attributes per span link.
        #
        # Environment variable: OTEL_LINK_ATTRIBUTE_COUNT_LIMIT
        link_attribute_count_limit: 128
    # Configure the sampler.
    sampler:
        # Configure sampler to be parent_based. Known values include: always_off, always_on, jaeger_remote, parent_based, trace_id_ratio_based.
        #
        # Environment variable: OTEL_TRACES_SAMPLER=parentbased_*
        parent_based:
            # Configure root sampler.
            #
            # Environment variable: OTEL_TRACES_SAMPLER=parentbased_traceidratio
            root:
                # Configure sampler to be trace_id_ratio_based.
                trace_id_ratio_based:
                    # Configure trace_id_ratio.
                    #
                    # Environment variable: OTEL_TRACES_SAMPLER_ARG=traceidratio=0.0001
                    ratio: 0.0001
            # Configure remote_parent_sampled sampler.
            remote_parent_sampled:
                # Configure sampler to be always_on.
                always_on: {}
            # Configure remote_parent_not_sampled sampler.
            remote_parent_not_sampled:
                # Configure sampler to be always_off.
                always_off: {}
            # Configure local_parent_sampled sampler.
            local_parent_sampled:
                # Configure sampler to be always_on.
                always_on: {}
            # Configure local_parent_not_sampled sampler.
            local_parent_not_sampled:
                # Configure sampler to be always_off.
                always_off: {}

# Configure resource for all signals.
resource:
    # Configure resource attributes. Entries have higher priority than entries from .resource.attributes_list.
    # Entries must contain .name nand .value, and may optionally include .type, which defaults ot "string" if not set. The value must match the type. Values for .type include: string, bool, int, double, string_array, bool_array, int_array, double_array.
    attributes:
      - name: service.name
        value: unknown_service
      - name: string_key
        value: value
        type: string
      - name: bool_key
        value: true
        type: bool
      - name: int_key
        value: 1
        type: int
      - name: double_key
        value: 1.1
        type: double
      - name: string_array_key
        value: [ "value1", "value2" ]
        type: string_array
      - name: bool_array_key
        value: [ true, false ]
        type: bool_array
      - name: int_array_key
        value: [ 1, 2 ]
        type: int_array
      - name: double_array_key
        value: [ 1.1, 2.2 ]
        type: double_array
    # Configure resource attributes. Entries have lower priority than entries from .resource.attributes.
    # The value is a list of comma separated key-value pairs matching the format of OTEL_RESOURCE_ATTRIBUTES. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/configuration/sdk-environment-variables.md#general-sdk-configuration for details.
    attributes_list: "service.namespace=my-namespace,service.version=1.0.0"
    # Configure the resource schema URL.
    schema_url: https://opentelemetry.io/schemas/1.27.0

# Configure instrumentation.
instrumentation:
  # Configure general SemConv options that may apply to multiple languages and instrumentations.
  # Instrumenation may merge general config options with the language specific configuration at .instrumentation.<language>.
  general:
    # Configure instrumentations following the peer semantic conventions.
    # See peer semantic conventions: https://opentelemetry.io/docs/specs/semconv/attributes-registry/peer/
    peer:
      # Configure the service mapping for instrumentations following peer.service semantic conventions.
      # Each entry is a key value pair where "peer" defines the IP address and "service" defines the corresponding logical name of the service.
      # See peer.service semantic conventions: https://opentelemetry.io/docs/specs/semconv/general/attributes/#general-remote-service-attributes
      service_mapping:
        - peer: 1.2.3.4
          service: FooService
        - peer: 2.3.4.5
          service: BarService
    # Configure instrumentations following the http semantic conventions.
    # See http semantic conventions: https://opentelemetry.io/docs/specs/semconv/http/
    http:
      # Configure instrumentations following the http client semantic conventions.
      client:
        # Configure headers to capture for outbound http requests.
        request_captured_headers:
          - Content-Type
          - Accept
        # Configure headers to capture for outbound http responses.
        response_captured_headers:
          - Content-Type
          - Content-Encoding
      # Configure instrumentations following the http server semantic conventions.
      server:
        # Configure headers to capture for inbound http requests.
        request_captured_headers:
          - Content-Type
          - Accept
        # Configure headers to capture for outbound http responses.
        response_captured_headers:
          - Content-Type
          - Content-Encoding
  # Configure C++ language-specific instrumentation libraries.
  cpp:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure .NET language-specific instrumentation libraries.
  dotnet:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Erlang language-specific instrumentation libraries.
  erlang:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Go language-specific instrumentation libraries.
  go:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Java language-specific instrumentation libraries.
  java:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure JavaScript language-specific instrumentation libraries.
  js:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure PHP language-specific instrumentation libraries.
  php:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Python language-specific instrumentation libraries.
  python:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Ruby language-specific instrumentation libraries.
  ruby:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Rust language-specific instrumentation libraries.
  rust:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"
  # Configure Swift language-specific instrumentation libraries.
  swift:
    # Configure the instrumentation corresponding to key "example".
    example:
      property: "value"